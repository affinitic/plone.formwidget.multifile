
<tal:WIDGET tal:define="portal_url view/better_context/portal_url">

<div class="quick-uploader"
     i18n:domain="collective.quickupload">

    <!-- TODO:  RENAME stuff to proper ids; and use function ids for js -->

    <div tal:define="uploader_id view/get_uploader_function_id">
      <!--h4 class="pannelHeader"
          tal:content="view/header_upload">
        Files Quick Upload
      </h4-->

    <!-- label -->
    <!--label i18n:translate="label_choose_your_files"
           id="label-upload">Choose your files : </label-->

    <div class="multifile">
      <ul tal:attributes="id view/get_file_list_id"
            class="multifile-list multifile-files">
        <li tal:repeat="html view/get_data"
            tal:replace="structure html" />
      </ul>
      <!--input type="hidden" tal:replace="structure view/counterMarker" /-->
    </div>

      <!-- Upload button and drag/drop zone -->
    <div tal:attributes="id view/get_uploader_id;
                        ref view/name"
         tal:omit-tag="not:view/editing"
         class="main-uploader">

         <div class="qq-uploader">
           <div class="qq-upload-drop-area"><span>Drop files here to upload</span></div>
           <div class="qq-upload-button">Browse for a file</div>
           <ul class="qq-upload-list"></ul>
         </div>

    </div>

      <!-- uploader comes here -->
      <!--div id="uploader"
           class="main-uploader"
           tal:attributes="id uploader_id"></div-->

    <input type="hidden"
           id="uploadify_label_file_title"
           i18n:domain="plone"
           i18n:attributes="value Title" />
  </div>

  <!-- multifile javascript -->
  <script type="text/javascript"
          tal:content="structure view/get_inline_js">
  </script>
</div>
</tal:WIDGET>
