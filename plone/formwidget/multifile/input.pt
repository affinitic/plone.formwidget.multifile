<tal:WIDGET tal:define="portal_url view/betterContext/portal_url">

<div class="quick-uploader"
     i18n:domain="collective.quickupload">

    <!-- TODO:  Rename stuff to proper ids; and use function ids for js -->

    <div tal:define="uploader_id view/getUploaderFunctionID">
        <div class="multifile">
            <ul tal:attributes="id view/getFileListID"
                class="multifile-list multifile-files">
                <li tal:repeat="html view/getData"
                    tal:replace="structure html" />
            </ul>
            <!--input type="hidden" tal:replace="structure view/counterMarker" /-->
        </div>

        <!-- Upload button and drag/drop zone -->
        <div tal:attributes="id view/getUploaderID;
                             ref view/name"
             tal:omit-tag="not:view/editing"
             class="main-uploader">

            <!--div class="qq-uploader">
                <div class="qq-upload-drop-area"><span>Drop files here to upload</span></div>
                <div class="qq-upload-button">Browse for a file</div>
                <ul class="qq-upload-list"></ul>
            </div-->
        </div>

        <!-- uploader comes here -->
        <!--div id="uploader"
           class="main-uploader"
           tal:attributes="id uploader_id"></div-->

        <input type="hidden"
               id="uploadify_label_file_title"
               i18n:domain="plone"
               i18n:attributes="value Title" />
    </div>
</div>

<!-- multifile javascript -->
<script type="text/javascript"
          tal:replace="structure view/getInlineJS">
</script>
</tal:WIDGET>
